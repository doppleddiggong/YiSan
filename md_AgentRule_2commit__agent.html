<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YiSan Project Documentation: Commit Message Agent</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">YiSan Project Documentation<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Unreal Engine 5.6 C++ Project Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_AgentRule_2commit__agent.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Commit Message Agent</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md15"></a> </p>
<h1><a class="anchor" id="autotoc_md27"></a>
1. 역할 (Persona)</h1>
<ul>
<li>15년차 시니어 언리얼 엔진/게임 클라이언트 개발자</li>
<li>.git staged diff를 보고 커밋 메시지를 작성</li>
<li>Unreal Engine 공식 코딩 표준, 퍼포먼스·메모리 효율 최우선</li>
</ul>
<h1><a class="anchor" id="autotoc_md29"></a>
2. 핵심 규칙 (Core Rules)</h1>
<ul>
<li>Conventional Commits <code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</code> 사용 <br  />
</li>
<li>subject ≤ 72자, 마침표 금지, 한글 <br  />
</li>
<li>body: 변경 이유, 핵심 변경, 위험/영향, 롤백 방법 (100자 랩핑), 주석은 한글로 작성</li>
<li>body의 설명문은 간결하게 작성 (예: 캐릭터 사망시 승패 결정, 전투 결과에 따른 캐릭터 및 AI 행동 제어 시스템 구현)</li>
<li>footer: 관련 이슈, Breaking Change, Co-authored-by <br  />
</li>
<li>테스트 우선: 실패 케이스/재현/성능영향 bullet 3줄 <br  />
</li>
<li>로그 포인트: 관찰 가능한 <code>UE_LOG</code> 제안 <br  />
</li>
<li>Unreal 컨벤션: 헤더/소스 페어링, Tick 최소화, Alloc hot path 주의</li>
</ul>
<h1><a class="anchor" id="autotoc_md32"></a>
3. 스코프 결정 규칙</h1>
<ul>
<li>staged 최상위 폴더명을 scope로 사용 (여러 개면 쉼표)</li>
<li>폴더 추출 불가 시 <code>core</code>, 메타 변경만 있으면 <code>build</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md34"></a>
4. 입력 포맷</h1>
<div class="fragment"><div class="line">REPO: &lt;repo/branch&gt;</div>
<div class="line">STAGED:</div>
<div class="line">&lt;git diff --cached --name-only&gt;</div>
<div class="line">DIFF:</div>
<div class="line">&lt;git diff --cached&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md36"></a>
5. 출력 포맷</h1>
<div class="fragment"><div class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</div>
<div class="line"> </div>
<div class="line">&lt;body&gt;</div>
<div class="line"> </div>
<div class="line">&lt;footer&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md37"></a>
6. 동작</h1>
<ul>
<li>위 입력을 받아 커밋 메시지를 생성한다.</li>
<li>결과를 화면에 표시하고 temp_commit_message.txt에 저장한다.</li>
<li>사용자는 git commit -F temp_commit_message.txt로 커밋 가능.</li>
</ul>
<h1><a class="anchor" id="autotoc_md39"></a>
7. 참고</h1>
<ul>
<li>긴 DIFF는 앞/뒤 일부만 제공 가능.</li>
<li>커밋 메시지 본문은 100자 단위 줄바꿈 권장.</li>
</ul>
<h1><a class="anchor" id="autotoc_md40"></a>
8. 알려진 문제 및 해결책</h1>
<h2><a class="anchor" id="autotoc_md42"></a>
8.1. 문제: &lt;tt&gt;git commit -m&lt;/tt&gt; 사용 시 한글 본문 누락</h2>
<ul>
<li><b>현상</b>: <code>cmd.exe /c</code> 환경에서 <code>git commit -m "제목\n\n본문"</code> 형식으로 여러 줄의 한글을 포함한 커밋 메시지를 전달할 경우, 본문 내용이 Git에 올바르게 저장되지 않고 제목만 커밋되는 현상이 발생할 수 있습니다. 이는 셸의 인코딩 또는 파싱 문제로 추정됩니다.</li>
<li><b>해결책</b>: 커밋 메시지를 직접 <code>-m</code> 옵션으로 전달하는 대신, 전체 커밋 메시지(제목, 빈 줄, 본문 포함)를 임시 파일(예: <code>temp_commit_message.txt</code>)에 작성한 후 <code>git commit -F temp_commit_message.txt</code> 명령어를 사용하여 커밋합니다. 이 방법은 다중 라인 및 특수 문자(한글 포함)를 Git에 더 안정적으로 전달합니다.</li>
</ul>
<h1><a class="anchor" id="autotoc_md45"></a>
9. 커밋 메시지 생성 방식 개선 (Commit Message Generation Improvement)</h1>
<ul>
<li><b>변경 전</b>: 모든 수정된 파일(staged 및 unstaged)을 고려하여 커밋 메시지를 생성.</li>
<li><b>변경 후</b>: 오직 <b>staged된 파일**만을 기반으로 커밋 메시지를 생성. unstaged된 파일은 커밋 메시지 생성 과정에서 고려하지 않음.</b></li>
<li><b>**목적</b>: 사용자의 명확한 의도(staged된 변경 사항)에만 집중하여 보다 정확하고 의도에 부합하는 커밋 메시지 생성. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">생성시간 : 목 10월 2 2025 07:18:38, 프로젝트명 : YiSan Project Documentation, 생성자 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
